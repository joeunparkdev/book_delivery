<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Product Details</title>
    <link rel="stylesheet" href="../css/book.detail.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
      crossorigin="anonymous"
    />
    <style>
      .book-info {
        margin-bottom: 20px;
      }

      .book-info h2,
      .book-info div {
        margin: 0;
        padding: 5px 0;
      }

      .buy-button {
        margin-top: 20px;
      }

      .review-revise-btn button {
        margin-right: 5px;
      }

      .review-wr {
        margin-top: 10px;
      }

      .modal-dialog {
        max-width: 400px;
      }

      .star-rating {
        display: inline-block;
        font-size: 24px;
        color: #ffd700;
      }
    </style>
  </head>

  <body>
    <header
      class="p-1 d-flex flex-wrap align-items-center justify-content-md-between border-bottom border-success"
    >
      <div class="ms-5 col-md-3">
        <a href="main.html" class="text-decoration-none title text-success">
          <p class="fs-30" style="font-weight: 700">
            &#128218;ReadingRocket&#128640;
          </p>
        </a>
      </div>
      <nav class="navbar navbar-expand-md navbar-light">
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link text-success" href="./community.html"
                >Community</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link text-success" href="./products.html"
                >Products</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link text-success" href="./cart.html">Cart</a>
            </li>
          </ul>
        </div>
      </nav>
      <div class="col-md-3 text-end">
        <div class="me-5 col-md-3 text-end" id="loginContainer">
          <!-- 로그인 또는 로그아웃 버튼이 여기에 동적으로 추가. -->
        </div>
      </div>
    </header>

    <main>
      <div class="container my-5">
        <div class="first-area">
          <div class="box">
            <h3 class="text-success mb-4">상세보기</h3>
            <div id="productDetail" class="row">
              <input type="hidden" id="productIdInput" value="상품ID" />
              <!-- Product details go here -->
            </div>
          </div>

          <div class="box">
            <!-- 동적으로 가져온 책 정보 -->
            <div id="bookInfo" class="book-info">
              <!-- JavaScript로 동적으로 추가될 내용 -->
            </div>

            <!-- 장바구니 버튼 -->
            <div class="buy-button">
              <button
                type="button"
                class="btn btn-success me-2"
                id="addToCartBtn"
              >
                장바구니
              </button>
              <button
                type="button"
                class="btn btn-success"
                id="directPurchaseBtn"
              >
                바로주문
              </button>
            </div>
          </div>
        </div>

        <!-- 리뷰 및 관련 기능 -->
        <form class="second-area">
          <div class="my-2">
            <!-- 별점 선택 부분 -->
            <div class="mb-3">
              <label for="starRating" class="form-label">별점:</label>
              <!-- Use JavaScript to allow users to give a star rating -->
              <select id="starRating" name="starRating" class="form-select">
                <option value="1">⭐</option>
                <option value="2">⭐⭐</option>
                <option value="3">⭐⭐⭐</option>
                <option value="4">⭐⭐⭐⭐</option>
                <option value="5">⭐⭐⭐⭐⭐</option>
              </select>
            </div>
          </div>

          <!-- 리뷰 작성 부분 -->
          <div class="review-wr">
            <textarea
              type="text"
              name="quantity"
              placeholder="리뷰를 작성해주세요"
            ></textarea>
            <button
              type="button"
              class="btn btn-success me-2"
              id="addReviewBtn"
            >
              리뷰 작성
            </button>
          </div>

          <!-- 리뷰 목록을 표시하는 부분 추가 -->
          <div id="reviewList" class="review-list"></div>
        </form>

        <div class="modal" tabindex="-1" role="dialog" id="myModal">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="modal"
                  aria-label="Close"
                ></button>
              </div>
              <div class="modal-body">
                <p>장바구니에 물건이 성공적으로 담겼습니다.</p>
              </div>
              <div class="modal-footer">
                <button
                  type="button"
                  class="btn btn-success"
                  onclick="window.location.href='cart.html'"
                >
                  장바구니로 이동
                </button>
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-bs-dismiss="modal"
                  onclick="window.location.href='products.html'"
                >
                  닫기
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script type="module" src="../js/book.detail.js"></script>
    <script src="../js/header.js"></script>
  </body>
</html>
